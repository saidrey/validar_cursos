<div class="page-container">
  <!-- Header -->
  <div class="page-header">
    <div class="page-title">
      <span class="material-symbols-outlined title-icon">group</span>
      <div>
        <h1>Gesti√≥n de Usuarios</h1>
        <p>Administra los usuarios y sus permisos de acceso</p>
      </div>
    </div>
    <div class="header-actions">
      <button class="btn-toggle-inactivos" [class.active]="ocultarInactivos" (click)="toggleOcultarInactivos()">
        <span class="material-symbols-outlined">{{ ocultarInactivos ? 'visibility_off' : 'visibility' }}</span>
        {{ ocultarInactivos ? 'Ver todos' : 'Ocultar inactivos' }}
      </button>
      <button mat-flat-button color="primary" (click)="abrirDialogoCrear()" class="btn-nuevo">
        <span class="material-symbols-outlined">person_add</span>
        Nuevo Usuario
      </button>
    </div>
  </div>

  <!-- Tabla -->
  <div class="table-card">
    @if (cargando && usuarios.length === 0) {
      <div class="loading-state">
        <mat-spinner diameter="40"></mat-spinner>
        <span>Cargando usuarios...</span>
      </div>
    } @else {
      <app-data-table
        [columns]="columnas"
        [data]="usuarios"
        [pagination]="paginacion"
        [hasActions]="true"
        [rowClass]="rowClass"
        (paramsChange)="onParamsChange($event)"
        (editItem)="abrirDialogoEditar($event)"
        (deleteItem)="confirmarEliminar($event)">
      </app-data-table>
    }
  </div>
</div>
